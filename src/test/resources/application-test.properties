# Importar .env (ra√≠z del proyecto o ./UPLEARN/.env)
spring.config.import=optional:file:.env[.properties],optional:file:./UPLEARN/.env[.properties]

# Server
server.port=${SERVER_PORT:8093}

# MongoDB
spring.data.mongodb.uri=${DB_URI}
spring.data.mongodb.database=${DB_NAME}
spring.data.mongodb.auto-index-creation=${SPRING_DATA_MONGODB_AUTO_INDEX_CREATION:true}

# Redis (propiedades del micro, no nombres de env)
redis.host=${REDIS_HOST:localhost}
redis.port=${REDIS_PORT:6379}

# CORS
uplearn.cors.allowed-origins=${UPLEARN_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}

# Base URLs externas
users.base=${USERS_BASE:http://localhost:8080/Api-user}
users.public-path=${USERS_PUBLIC_PATH:/public/profile}
reservations.base=${RESERVATIONS_BASE:http://localhost:8090/api/reservations}

# Llamadas
call.max-minutes=${CALL_MAX_MINUTES:60}

# WebSocket tuning
app.ws.max-message-size=${WS_MAX_MESSAGE_SIZE:65536}
app.ws.heartbeat-seconds=${WS_HEARTBEAT_SECONDS:10}
app.ws.idle-timeout-seconds=${WS_IDLE_TIMEOUT_SECONDS:30}
app.ws.rate-limit=${WS_RATE_LIMIT:20}

# ICE servers
stun.urls=${STUN_URLS:stun:stun1.l.google.com:19302,stun:stun2.l.google.com:19302}
turn.urls=${TURN_URLS:}
turn.username=${TURN_USERNAME:}
turn.password=${TURN_PASSWORD:}

# Actuator / Micrometer
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.95,0.99
